# shell 内置变量

## 1 特殊shell变量

```bash
$#    传递到脚本的参数个数  
$\*   以一个单字符串显示所有向脚本传递的参数  
$$    脚本运行的当前进程ID号  
$!    后台运行的最后一个进程的ID号  
$@    与$\*相同，但是使用时加引号，并在引号中返回每个参数。  
$-    显示Shell使用的当前选项，与set命令功能相同。  
$?    显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。  
$_    显示传参的最后一个参数
```

‍

```bash
command > file     将输出重定向到 file。  
command < file     将输入重定向到 file。  
command >> file    将输出以追加的方式重定向到 file。  
n > file           将文件描述符为 n 的文件重定向到 file。  
n >> file          将文件描述符为 n 的文件以追加的方式重定向到 file。  
n >& m             将输出文件 m 和 n 合并。  
n <& m             将输入文件 m 和 n 合并。  
<< tag             将开始标记 tag 和结束标记 tag 之间的内容作为输入。
```

‍

```bash
$ command > /dev/null  
# /dev/null 是一个特殊的文件，写入到它的内容都会被丢弃；如果尝试从该文件读取内容，那么什么也读不到。但是 /dev/null 文件非常有用，将命令的输出重定向到它，会起到"禁止输出"的效果。  
# 如果希望屏蔽 stdout 和 $ command > /dev/null 2>&1
```

‍

```bash
$0        脚本名字  
$1        位置参数 #1  
$2 - $9   位置参数 #2 - #9  
${10}     位置参数 #10  
$#        位置参数的个数  
"$\*"     所有的位置参数(作为单个字符串) \*  
"$@"      所有的位置参数(每个都作为独立的字符串)  
${#\*}    传递到脚本中的命令行参数的个数  
${#@}     传递到脚本中的命令行参数的个数  
$?        返回值  
$$        脚本的进程ID(PID)  
$-        传递到脚本中的标志(使用set)  
$_        之前命令的最后一个参数  
$!        运行在后台的最后一个作业的进程ID(PID)
```

‍

‍

## 2 二元比较

```bash

-eq  　　 等于  
= 　　    等于  
==　　    等于  
-ne　　   不等于  
!= 　　   不等于  
-lt 　　  小于  
\< 　　   小于 (ASCII) \*  
-le 　　  小于等于  
-gt 　　  大于  
\> 　　   大于 (ASCII) \*  
-ge　    大于等于  
-z 　　  字符串为空  
-n 　　  字符串不为空  
> 　　   大于  
>= 　　  大于等于  
<　　　  小于  
<=　　   小于等于
```

‍

## 3 文件测试类型

```bash
-e 　　文件是否存在  
-s 　　文件大小不为0  
-f 　　是一个标准文件  
-d　　 是一个目录  
-r　　 文件具有读权限  
-w　　 文件具有写权限  
-x 　　文件具有执行权限  
-h　　 文件是一个符号链接  
-L 　　文件是一个符号链接  
-b 　　文件是一个块设备  
-c 　　文件是一个字符设备  
-g 　　设置了sgid标记  
-p 　　文件是一个管道  
-u 　　设置了suid标记  
-S 　　文件是一个socket  
-k 　　设置了"粘贴位"  
-t 　　文件与一个终端相关联  
-N 　　从这个文件最后一次被读取之后, 它被修改过  
-O 　　这个文件的宿主是你  
\-G 　　文件的组id与你所属的组相同  
F1 -nt F2 文件F1比文件F2新 \*  
F1 -ot F2 文件F1比文件F2旧 \*  
F1 -ef F2 文件F1和文件F2都是同一个文件的硬链接 \*  
  
! "非" (反转上边的测试结果)
```
