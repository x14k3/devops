# mkfs & mke2fx

# mkfs

用于在设备上创建Linux文件系统

**mkfs命令** 用于在设备上（通常为硬盘）创建Linux文件系统。mkfs本身并不执行建立文件系统的工作，而是去调用相关的程序来执行。

### 语法

```
mkfs(选项)(参数)
```

### 选项

```
fs：指定建立文件系统时的参数；
-t<文件系统类型>：指定要建立何种文件系统；
-v：显示版本信息与详细的使用方法；
-V：显示简要的使用方法；
-c：在制做档案系统前，检查该partition是否有坏轨。
```

### 参数

* 文件系统：指定要创建的文件系统对应的设备文件名；
* 块数：指定文件系统的磁盘块数。

### 实例

在`/dev/hda5`​上建一个msdos的档案系统，同时检查是否有坏轨存在，并且将过程详细列出来：

```
mkfs -V -t msdos -c /dev/hda5

mkfs -t ext3 /dev/sda6     //将sda6分区格式化为ext3格式
mkfs -t ext2 /dev/sda7     //将sda7分区格式化为ext2格式
```

‍

# **mke2fs**

创建磁盘分区上的“etc2/etc3”文件系统

**mke2fs命令** 被用于创建磁盘分区上的“etc2/etc3”文件系统。

### 语法

```
mke2fs(选项)(参数)
```

### 选项

```
-b<区块大小>：指定区块大小，单位为字节；
-c；检查是否有损坏的区块；
-f<不连续区段大小>：指定不连续区段的大小，单位为字节；
-F：不管指定的设备为何，强制执行mke2fs；
-i<字节>：指定"字节/inode"的比例；
-N<inode数>：指定要建立的inode数目；
-l<文件>：从指定的文件中，读取文件西中损坏区块的信息；
-L<标签>：设置文件系统的标签名称；
-m<百分比值>：指定给管理员保留区块的比例，预设为5%；
-M：记录最后一次挂入的目录；
-q：执行时不显示任何信息；
-r：指定要建立的ext2文件系统版本；
-R=<区块数>：设置磁盘阵列参数；
-S：仅写入superblock与group descriptors，而不更改inode able inode bitmap以及block bitmap；
-v：执行时显示详细信息；
-V：显示版本信息。
```

### 参数

* 设备文件：指定要创建的文件系统的分区设备文件名；
* 块数：指定要创建的文件系统的磁盘块数量。

### 实例

创建指定的ext2文件系统。

```
mke2fs -q /dev/hda1
```
