# 从命令行读取参数

## 使用 os 包读取命令行参数

os 包有一个全局变量 Args，是 [] string 类型，第一个元素是程序名

```golang
func main() {
    for i, v := range os.Args {
        fmt.Printf("这是第%d个参数:%s\n", i, v)
    }
}

```

‍

## 2 使用 flag 包

> flag 包就比 os.Args 更加灵活，不过其也有一些限制，比如说官方不推荐在 init 函数中调用 flag.Parse，这样会使得不同包之间的 flag 出现问题

```golang


func main() {
    str := flag.String("s", "hello world", "test string")
    num := flag.Int("n", 0, "test number")
    bol := flag.Bool("b", false, "test bool")

    //在使用flag包定义的参数之前，一定要先运行Parse
    flag.Parse()

    fmt.Println("string paramter:", *str)
    fmt.Println("number parameter:", *num)
    fmt.Println("bool parameter", *bol)
}
```

### 运行结果

```bash
nothin:~/GoPractice/flags$ ./flag2 -s="hello world" -n=123 -b=true
string paramter: hello world
number parameter: 123
bool parameter true

#这里加一个-d,因为程序内部没有定义d，所以程序会出错并抛出预先写好的usage
nothin:~/GoPractice/flags$ ./flag2 -s="hello world" -n=123 -b=true -d

flag provided but not defined: -d
Usage of ./flag2:
  -b    test bool
  -n int
        test number
  -s string
        test string (default "hello world")

```
